const mongoose = require("mongoose");

const ProjectSchema = new mongoose.Schema(
  {
    // Project ID generated by backend
    projectId: {
      type: String,
      required: true,
      unique: true,
      default: () => new mongoose.Types.ObjectId().toString(),
    },

    // Project name from user
    name: {
      type: String,
      required: true,
      default: "Untitled Project",
    },

    // Selected template / UI type
    type: {
      type: String,
    },

    // Full generated code
    generatedCode: {
      type: String,
      default:"Generated code is empty",
    },

    // Any user customizations (optional)
    settings: {
      type: Object,
      default: {"theme": "dark"},
    },
  },
  { timestamps: true }
);

module.exports = mongoose.model("Project", ProjectSchema);
